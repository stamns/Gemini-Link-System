# Gemini Link System

ä¸€ä¸ªå°† Gemini Business API è½¬æ¢ä¸º OpenAI å…¼å®¹æ¥å£çš„ç½‘å…³æœåŠ¡ï¼Œæ”¯æŒå¤šè´¦å·è´Ÿè½½å‡è¡¡ã€API å¯†é’¥ç®¡ç†ã€å›¾ç‰‡ç”Ÿæˆå’Œæ€è€ƒè¿‡ç¨‹æ˜¾ç¤ºç­‰åŠŸèƒ½ã€‚

<div align="center">

  <img width="642" height="540" alt="78e0edf7-a521-483e-bfc8-2e185594ea66" src="https://github.com/user-attachments/assets/20dccf7f-6dc0-446e-b57e-d492448f979c" />

</div>

<div align="center">

  <img width="593" height="532" alt="f49c2af4-2036-4895-a50f-b665b51cf33a" src="https://github.com/user-attachments/assets/69d44114-cac5-4e65-a52f-b01ec6333a7c" />

</div>

<div align="center">

  <img width="622" height="484" alt="8c87f393-b3f1-4eec-8059-e040487e28ee" src="https://github.com/user-attachments/assets/566a1872-837f-43eb-a05f-6dfe8e6e885f" />

</div>

<div align="center">

  <img width="1912" height="954" alt="3aabf85c-6dd8-4626-a574-001ab30003ec" src="https://github.com/user-attachments/assets/25230990-cebb-41e7-8a7f-a54f8873ad61" />

</div>

<div align="center">

  <img width="868" height="725" alt="7921b683-ef14-4d9b-9213-9285bdd641bf" src="https://github.com/user-attachments/assets/452270c8-4273-4cea-be7b-f0f66ba5e2d5" />

</div>

<div align="center">

  <img width="869" height="792" alt="706362b2-9e7d-4097-a412-768bbcc8d1dc" src="https://github.com/user-attachments/assets/45018700-ab40-481b-9b52-279a12c48a49" />

</div>

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **OpenAI å…¼å®¹æ¥å£**ï¼šå®Œå…¨å…¼å®¹ OpenAI Chat Completions API
- ğŸ”‘ **API å¯†é’¥ç®¡ç†**ï¼šæ”¯æŒç”Ÿæˆã€ç®¡ç†å’Œæ’¤é”€ API å¯†é’¥
- ğŸ“Š **ä½¿ç”¨ç»Ÿè®¡**ï¼šè¯¦ç»†çš„ API è°ƒç”¨æ—¥å¿—å’Œç»Ÿè®¡ä¿¡æ¯
- ğŸ–¼ï¸ **å›¾ç‰‡ç”Ÿæˆ**ï¼šæ”¯æŒ Gemini å›¾ç‰‡ç”Ÿæˆè¾“å…¥åŠŸèƒ½ï¼Œè‡ªåŠ¨ä¸‹è½½å’Œä¿å­˜
- ğŸ’­ **æ€è€ƒè¿‡ç¨‹æ˜¾ç¤º**ï¼šæ”¯æŒæ˜¾ç¤ºæ¨¡å‹çš„æ€è€ƒè¿‡ç¨‹ï¼ˆå¯æŠ˜å ï¼‰
- ğŸ”„ **å¤šè´¦å·æ”¯æŒ**ï¼šæ”¯æŒé…ç½®å¤šä¸ª Gemini Business è´¦å·ï¼Œè‡ªåŠ¨è´Ÿè½½å‡è¡¡
- ğŸ›¡ï¸ **è´¦å·å®¹é”™**ï¼šè‡ªåŠ¨æ£€æµ‹è´¦å·é…é¢é™åˆ¶ï¼Œåˆ‡æ¢åˆ°å¤‡ç”¨è´¦å·
- ğŸ“ **ç®¡ç†å‘˜é¢æ¿**ï¼šWeb ç•Œé¢ç®¡ç† API å¯†é’¥å’ŒæŸ¥çœ‹ç»Ÿè®¡
- âš™ï¸ **è´¦å·ç®¡ç†**ï¼šå¯è§†åŒ–ç•Œé¢ç®¡ç† Gemini Business è´¦å·é…ç½®ï¼Œæ”¯æŒæ·»åŠ ã€ç¼–è¾‘ã€æµ‹è¯•å’Œåˆ é™¤

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- Dockerï¼ˆæ¨èï¼Œæ— éœ€é¢å¤–å®‰è£… Python ç¯å¢ƒï¼‰
- æˆ– Python 3.10+ï¼ˆæœ¬åœ°å¼€å‘/è¿è¡Œï¼‰
- SQLiteï¼ˆé»˜è®¤ï¼‰æˆ– PostgreSQL
- Gemini Business è´¦å·å‡­è¯

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆDocker æ¨èï¼‰

### 1. æ‹‰å– Docker é•œåƒ

ç›´æ¥ä» Docker Hub æ‹‰å–æœ€æ–°é•œåƒï¼ˆæ— éœ€æ‰‹åŠ¨æ„å»ºï¼‰ï¼š

```bash
docker pull qxdljy/gemini-link-system:latest
```

### 2. å‡†å¤‡ç¯å¢ƒæ–‡ä»¶ï¼ˆå¿…å¡«ï¼‰

#### 2.1 åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶

åœ¨æœ¬åœ°åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå»ºè®®å•ç‹¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾ï¼Œå¦‚ `gemini-link-system`ï¼‰ï¼Œå†…å®¹å‚è€ƒä»¥ä¸‹é…ç½®ï¼š

```env
# å•è´¦å·é…ç½®ï¼ˆå¿…å¡«ï¼ŒäºŒé€‰ä¸€ï¼‰
SECURE_C_SES=your_secure_c_ses_value
CSESIDX=your_csesidx_value
CONFIG_ID=your_config_id_value
HOST_C_OSES=your_host_c_oses_value  # å¯é€‰

# æˆ– å¤šè´¦å·é…ç½®ï¼ˆæ¨èï¼Œè‡ªåŠ¨è´Ÿè½½å‡è¡¡ï¼‰
# ACCOUNT1_SECURE_C_SES=your_secure_c_ses_1
# ACCOUNT1_CSESIDX=your_csesidx_1
# ACCOUNT1_CONFIG_ID=your_config_id_1
# ACCOUNT1_NAME=account-1  # å¯é€‰
# ACCOUNT2_SECURE_C_SES=your_secure_c_ses_2
# ACCOUNT2_CSESIDX=your_csesidx_2
# ACCOUNT2_CONFIG_ID=your_config_id_2

# å¯é€‰é…ç½®
PROXY=http://proxy.example.com:7890  # ä»£ç†è®¾ç½®ï¼ˆå¦‚éœ€ï¼‰
TIMEOUT_SECONDS=600  # è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤ 600 ç§’ï¼‰
```

#### 2.2 å¡«å†™é…ç½®è¯´æ˜

- ä» Gemini Business è´¦å·ä¸­è·å– `SECURE_C_SES`ã€`CSESIDX`ã€`CONFIG_ID` ç­‰æ ¸å¿ƒå‡­è¯
- å¤šè´¦å·é…ç½®æ—¶ï¼Œåªéœ€æŒ‰ `ACCOUNTn_*` æ ¼å¼é€’å¢æ·»åŠ å³å¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è´Ÿè½½å‡è¡¡

### 3. å‡†å¤‡æ•°æ®ç›®å½•ï¼ˆå¯é€‰ï¼Œå®ç°æ•°æ®æŒä¹…åŒ–ï¼‰

ä¸ºé¿å…å®¹å™¨é‡å¯åæ•°æ®ä¸¢å¤±ï¼ˆå¦‚ API å¯†é’¥ã€è°ƒç”¨æ—¥å¿—ã€ç”Ÿæˆçš„å›¾ç‰‡ï¼‰ï¼Œå»ºè®®æŒ‚è½½æœ¬åœ°ç›®å½•åˆ°å®¹å™¨ï¼š

#### 3.1 åˆ›å»ºæœ¬åœ°ç›®å½•

åœ¨ `.env` æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼š

```bash
# Linux/macOS
mkdir -p geminibusiness.db generated_images

# Windowsï¼ˆCMDï¼‰
mkdir geminibusiness.db generated_images

# Windowsï¼ˆPowerShellï¼‰
New-Item -ItemType Directory -Path geminibusiness.db, generated_images
```

- `geminibusiness.db`ï¼šå­˜å‚¨ SQLite æ•°æ®åº“æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
- `generated_images`ï¼šå­˜å‚¨ç”Ÿæˆçš„å›¾ç‰‡æ–‡ä»¶ï¼ˆè‡ªåŠ¨ä¸‹è½½ï¼‰

### 4. è¿è¡Œ Docker å®¹å™¨

æ ¹æ®æ“ä½œç³»ç»Ÿé€‰æ‹©å¯¹åº”çš„å‘½ä»¤ï¼Œç¡®ä¿å‘½ä»¤åœ¨ `.env` æ–‡ä»¶æ‰€åœ¨ç›®å½•æ‰§è¡Œï¼š

#### 4.1 Linux/macOSï¼ˆBash/Zshï¼‰

```bash
docker run -d \
  --name gemini-link-system \
  -p 5000:5000 \
  --env-file .env \
  -v $(pwd)/geminibusiness.db:/app/geminibusiness.db \
  -v $(pwd)/generated_images:/app/generated_images \
  qxdljy/gemini-link-system:latest
```

#### 4.2 Windowsï¼ˆPowerShellï¼‰

```powershell
docker run -d `
  --name gemini-link-system `
  -p 5000:5000 `
  --env-file .env `
  -v ${PWD}/geminibusiness.db:/app/geminibusiness.db `
  -v ${PWD}/generated_images:/app/generated_images `
  qxdljy/gemini-link-system:latest
```

#### 4.3 Windowsï¼ˆCMDï¼‰

```cmd
docker run -d ^
--name gemini-link-system ^
-p 5000:5000 ^
--env-file .env ^
-v %cd%\geminibusiness.db:/app/geminibusiness.db ^
-v %cd%\generated_images:/app/generated_images ^
qxdljy/gemini-link-system:latest
```

#### 4.4 å‘½ä»¤è¯´æ˜

- `-d`ï¼šåå°è¿è¡Œå®¹å™¨
- `--name`ï¼šå®¹å™¨åç§°ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
- `-p 5000:5000`ï¼šç«¯å£æ˜ å°„ï¼ˆæœ¬åœ°ç«¯å£:å®¹å™¨ç«¯å£ï¼‰
- `--env-file .env`ï¼šåŠ è½½ç¯å¢ƒå˜é‡é…ç½®
- `-v`ï¼šæŒ‚è½½æœ¬åœ°ç›®å½•åˆ°å®¹å™¨ï¼ˆå®ç°æ•°æ®æŒä¹…åŒ–ï¼‰

### 5. éªŒè¯æœåŠ¡å¯åŠ¨

å®¹å™¨å¯åŠ¨åï¼Œè®¿é—®ä»¥ä¸‹åœ°å€ç¡®è®¤æœåŠ¡æ­£å¸¸ï¼š

- ç®¡ç†é¢æ¿ï¼š`http://localhost:5000/static/index.html`
- API æ¥å£åœ°å€ï¼š`http://localhost:5000/v1`

## ğŸ”§ åŸºç¡€é…ç½®ä¸ä½¿ç”¨

### 1. ç™»å½•ç®¡ç†é¢æ¿

1. è®¿é—® `http://localhost:5000/static/index.html`
2. é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š
   - ç”¨æˆ·åï¼š`admin`
   - å¯†ç ï¼š`admin123456`
3. **âš ï¸ ç”Ÿäº§ç¯å¢ƒè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼**

### 2. ç”Ÿæˆ API å¯†é’¥

1. ç™»å½•ç®¡ç†é¢æ¿åï¼Œè¿›å…¥ã€ŒAPI å¯†é’¥ç®¡ç†ã€é¡µé¢
2. ç‚¹å‡»ã€Œç”Ÿæˆæ–°å¯†é’¥ã€ï¼Œè®¾ç½®å¯†é’¥åç§°å’Œè¿‡æœŸæ—¶é—´
3. å¤åˆ¶ç”Ÿæˆçš„ API å¯†é’¥ï¼ˆä»…æ˜¾ç¤ºä¸€æ¬¡ï¼Œå¦¥å–„ä¿å­˜ï¼‰

### 3. æ”¯æŒçš„æ¨¡å‹

æœåŠ¡é»˜è®¤æ”¯æŒä»¥ä¸‹æ¨¡å‹ï¼Œè°ƒç”¨æ—¶ç›´æ¥æŒ‡å®šå³å¯ï¼š

- `gemini-auto` - è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ¨¡å‹
- `gemini-2.5-flash` - å¿«é€Ÿå“åº”æ¨¡å‹ï¼ˆé€‚åˆæ—¥å¸¸å¯¹è¯ï¼‰
- `gemini-2.5-pro` - å¹³è¡¡æ¨ç†æ¨¡å‹ï¼ˆé€‚åˆå¤æ‚ä»»åŠ¡ï¼‰
- `gemini-3-pro-preview` - é¢„è§ˆç‰ˆæ——èˆ°æ¨¡å‹ï¼ˆæ”¯æŒå›¾ç‰‡ç”Ÿæˆï¼‰

### 4. è´¦å·ç®¡ç†

åœ¨ç®¡ç†é¢æ¿ä¸­ï¼Œç‚¹å‡»ã€Œè´¦å·ç®¡ç†ã€æŒ‰é’®å¯ä»¥è¿›å…¥è´¦å·é…ç½®é¡µé¢ï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š

- **æŸ¥çœ‹è´¦å·åˆ—è¡¨**ï¼šæ˜¾ç¤ºæ‰€æœ‰å·²é…ç½®çš„ Gemini Business è´¦å·åŠå…¶çŠ¶æ€ï¼ˆå¯ç”¨/ä¸å¯ç”¨ï¼‰
- **æ·»åŠ è´¦å·**ï¼šé€šè¿‡ Web ç•Œé¢æ·»åŠ æ–°çš„è´¦å·é…ç½®ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¾‘ `.env` æ–‡ä»¶
- **ç¼–è¾‘è´¦å·**ï¼šä¿®æ”¹ç°æœ‰è´¦å·çš„é…ç½®ä¿¡æ¯ï¼ˆåç§°ã€SECURE_C_SESã€CSESIDXã€CONFIG_ID ç­‰ï¼‰
- **æµ‹è¯•è´¦å·**ï¼šä¸€é”®æµ‹è¯•è´¦å·æ˜¯å¦å¯ç”¨ï¼ŒéªŒè¯ JWT è·å–æ˜¯å¦æ­£å¸¸
- **åˆ é™¤è´¦å·**ï¼šåˆ é™¤ä¸å†ä½¿ç”¨çš„è´¦å·é…ç½®

**é‡è¦æç¤º**ï¼š
- ä¿®æ”¹è´¦å·é…ç½®åéœ€è¦é‡å¯æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆ
- å»ºè®®åœ¨ä¿®æ”¹å‰å¤‡ä»½ `.env` æ–‡ä»¶
- ç³»ç»Ÿä¼šè‡ªåŠ¨å°†æ—§æ ¼å¼è´¦å·ï¼ˆ`SECURE_C_SES`ã€`CSESIDX` ç­‰ï¼‰è½¬æ¢ä¸ºæ–°æ ¼å¼ï¼ˆ`ACCOUNTn_*`ï¼‰

## ğŸ“– API ä½¿ç”¨ç¤ºä¾‹

### 1. Python è°ƒç”¨ï¼ˆå…¼å®¹ OpenAI é€»è¾‘ï¼‰

```python
import requests

# åŸºç¡€é…ç½®
API_KEY = "ä½ çš„ç”Ÿæˆçš„ API å¯†é’¥"
BASE_URL = "http://localhost:5000/v1"

# å¯¹è¯è¯·æ±‚ï¼ˆæµå¼è¾“å‡ºï¼‰
url = f"{BASE_URL}/chat/completions"
headers = {
    "Authorization": f"Bearer {API_KEY}",
    "Content-Type": "application/json"
}
data = {
    "model": "gemini-3-pro-preview",
    "messages": [{"role": "user", "content": "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±"}],
    "stream": True
}

# å‘é€è¯·æ±‚å¹¶å¤„ç†æµå¼å“åº”
response = requests.post(url, headers=headers, json=data, stream=True)
for line in response.iter_lines():
    if line:
        chunk = line.decode("utf-8").lstrip("data: ").strip()
        if chunk != "[DONE]":
            import json
            print(json.loads(chunk)["choices"][0]["delta"].get("content", ""), end="")
```

### 2. OpenAI SDK ç›´æ¥è°ƒç”¨

```python
from openai import OpenAI

# åˆå§‹åŒ–å®¢æˆ·ç«¯ï¼ˆæŒ‡å®šç½‘å…³åœ°å€ï¼‰
client = OpenAI(
    api_key="ä½ çš„ç”Ÿæˆçš„ API å¯†é’¥",
    base_url="http://localhost:5000/v1"
)

# å›¾ç‰‡ç”Ÿæˆç¤ºä¾‹ï¼ˆéæµå¼ï¼‰
response = client.chat.completions.create(
    model="gemini-3-pro-preview",
    messages=[{"role": "user", "content": "ç”Ÿæˆä¸€å¼ äººå·¥æ™ºèƒ½ä¸»é¢˜çš„å›¾ç‰‡ï¼Œæœªæ¥ç§‘æŠ€é£æ ¼"}],
    stream=False
)

# æå–å›¾ç‰‡ä¿¡æ¯ï¼ˆbase64 æˆ–æ–‡ä»¶è·¯å¾„ï¼‰
if hasattr(response, 'images'):
    for img in response.images:
        print(f"å›¾ç‰‡æ–‡ä»¶åï¼š{img['file_name']}")
        print(f"å›¾ç‰‡ä¿å­˜è·¯å¾„ï¼šgenerated_images/{img['file_name']}")
        print(f"base64 ç¼–ç ï¼ˆå‰ 100 å­—ç¬¦ï¼‰ï¼š{img['base64'][:100]}...")
```

### 3. cURL å‘½ä»¤è°ƒç”¨

```bash
curl -X POST http://localhost:5000/v1/chat/completions \
  -H "Authorization: Bearer ä½ çš„ç”Ÿæˆçš„ API å¯†é’¥" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gemini-2.5-flash",
    "messages": [{"role": "user", "content": "è§£é‡Šä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½"}],
    "stream": true
  }'
```

## ğŸ–¼ï¸ å›¾ç‰‡ç”ŸæˆåŠŸèƒ½è¯´æ˜

1. ä»… `gemini-3-pro-preview` æ¨¡å‹æ”¯æŒå›¾ç‰‡ç”Ÿæˆ
2. ç”Ÿæˆçš„å›¾ç‰‡ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ° `generated_images` ç›®å½•ï¼ˆé€šè¿‡æŒ‚è½½å®ç°ï¼‰
3. API å“åº”ä¸­ä¼šåŒ…å«å›¾ç‰‡çš„ `base64` ç¼–ç å’Œæ–‡ä»¶åï¼Œå¯ç›´æ¥ç”¨äºå‰ç«¯å±•ç¤º
4. æ”¯æŒ Markdown æ ¼å¼è¾“å‡ºï¼ˆå¦‚ `![å›¾ç‰‡æè¿°](data:image/png;base64,...)`ï¼‰

## ğŸ’­ æ€è€ƒè¿‡ç¨‹æ˜¾ç¤º

æœåŠ¡ä¼šè‡ªåŠ¨æå–æ¨¡å‹çš„æ€è€ƒè¿‡ç¨‹ï¼Œé»˜è®¤ä»¥å¯æŠ˜å æ ¼å¼è¿”å›ï¼š

- æµå¼å“åº”ä¸­ï¼Œæ€è€ƒè¿‡ç¨‹ä¼šéšå†…å®¹ä¸€èµ·è¾“å‡º
- éæµå¼å“åº”ä¸­ï¼Œæ€è€ƒè¿‡ç¨‹åŒ…å«åœ¨ `thinking` å­—æ®µä¸­
- ç®¡ç†é¢æ¿ä¸­å¯æŸ¥çœ‹å®Œæ•´çš„æ€è€ƒæ­¥éª¤æ—¥å¿—

## âš™ï¸ è´¦å·ç®¡ç†åŠŸèƒ½

ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„ Web ç•Œé¢æ¥ç®¡ç† Gemini Business è´¦å·é…ç½®ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¾‘ `.env` æ–‡ä»¶ã€‚

### åŠŸèƒ½ç‰¹æ€§

- **å¯è§†åŒ–ç•Œé¢**ï¼šç›´è§‚çš„è¡¨æ ¼å±•ç¤ºæ‰€æœ‰å·²é…ç½®è´¦å·åŠå…¶çŠ¶æ€
- **è´¦å·çŠ¶æ€æ˜¾ç¤º**ï¼šå®æ—¶æ˜¾ç¤ºè´¦å·å¯ç”¨çŠ¶æ€ï¼ˆå¯ç”¨/ä¸å¯ç”¨/æœªçŸ¥ï¼‰
- **æ·»åŠ è´¦å·**ï¼šé€šè¿‡è¡¨å•æ·»åŠ æ–°è´¦å·ï¼Œè‡ªåŠ¨åˆ†é…ç´¢å¼•å·
- **ç¼–è¾‘è´¦å·**ï¼šä¿®æ”¹è´¦å·é…ç½®ä¿¡æ¯ï¼ˆåç§°ã€å‡­è¯ç­‰ï¼‰
- **æµ‹è¯•è´¦å·**ï¼šä¸€é”®æµ‹è¯•è´¦å·è¿é€šæ€§å’Œ JWT è·å–èƒ½åŠ›
- **åˆ é™¤è´¦å·**ï¼šå®‰å…¨åˆ é™¤ä¸å†ä½¿ç”¨çš„è´¦å·é…ç½®
- **è‡ªåŠ¨è½¬æ¢**ï¼šæ—§æ ¼å¼è´¦å·ï¼ˆ`SECURE_C_SES` ç­‰ï¼‰è‡ªåŠ¨è½¬æ¢ä¸ºæ–°æ ¼å¼ï¼ˆ`ACCOUNTn_*`ï¼‰

### ä½¿ç”¨æ–¹æ³•

1. ç™»å½•ç®¡ç†é¢æ¿åï¼Œç‚¹å‡»å³ä¸Šè§’ã€Œè´¦å·ç®¡ç†ã€æŒ‰é’®
2. åœ¨è´¦å·åˆ—è¡¨é¡µé¢å¯ä»¥ï¼š
   - ç‚¹å‡»ã€Œæ·»åŠ è´¦å·ã€åˆ›å»ºæ–°è´¦å·é…ç½®
   - ç‚¹å‡»ã€Œæµ‹è¯•ã€éªŒè¯è´¦å·æ˜¯å¦å¯ç”¨
   - ç‚¹å‡»ã€Œç¼–è¾‘ã€ä¿®æ”¹è´¦å·ä¿¡æ¯
   - ç‚¹å‡»ã€Œåˆ é™¤ã€ç§»é™¤è´¦å·ï¼ˆéœ€ç¡®è®¤ï¼‰

### æ³¨æ„äº‹é¡¹

- âš ï¸ **ä¿®æ”¹é…ç½®åéœ€é‡å¯æœåŠ¡**ï¼šæ‰€æœ‰è´¦å·é…ç½®ä¿®æ”¹éƒ½ä¼šå†™å…¥ `.env` æ–‡ä»¶ï¼Œéœ€è¦é‡å¯å®¹å™¨/æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆ
- ğŸ’¾ **å»ºè®®å¤‡ä»½**ï¼šä¿®æ”¹å‰è¯·å¤‡ä»½ `.env` æ–‡ä»¶ï¼Œé¿å…é…ç½®ä¸¢å¤±
- ğŸ”„ **è‡ªåŠ¨è´Ÿè½½å‡è¡¡**ï¼šå¤šè´¦å·é…ç½®åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœ¨å¯ç”¨è´¦å·é—´è¿›è¡Œè´Ÿè½½å‡è¡¡

## ğŸ³ Docker Compose éƒ¨ç½²ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

å¦‚æœéœ€è¦æ›´çµæ´»çš„é…ç½®ï¼ˆå¦‚è‡ªå®šä¹‰ç«¯å£ã€æ—¥å¿—è½®è½¬ï¼‰ï¼Œå¯ä½¿ç”¨ `docker-compose.yml`ï¼š

### 1. åˆ›å»º docker-compose.yml æ–‡ä»¶

```yaml
version: '3.8'

services:
  gemini-link-system:
    image: qxdljy/gemini-link-system:latest
    container_name: gemini-link-system
    restart: always  # å®¹å™¨å¼‚å¸¸æ—¶è‡ªåŠ¨é‡å¯
    ports:
      - "5000:5000"  # å¯ä¿®æ”¹å·¦ä¾§æœ¬åœ°ç«¯å£ï¼ˆå¦‚ 8080:5000ï¼‰
    env_file:
      - .env  # å¼•ç”¨ç¯å¢ƒå˜é‡æ–‡ä»¶
    volumes:
      - ./geminibusiness.db:/app/geminibusiness.db
      - ./generated_images:/app/generated_images
    logging:
      driver: "json-file"
      options:
        max-size: "10m"  # å•æ—¥å¿—æ–‡ä»¶æœ€å¤§ 10MB
        max-file: "3"    # æœ€å¤šä¿ç•™ 3 ä¸ªæ—¥å¿—æ–‡ä»¶
```

### 2. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨ï¼ˆåå°è¿è¡Œï¼‰
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down

# åœæ­¢å¹¶åˆ é™¤æ•°æ®å·ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
docker-compose down -v
```

## ğŸ” å®‰å…¨å»ºè®®

1. **ä¿®æ”¹é»˜è®¤å¯†ç **ï¼šé¦–æ¬¡ç™»å½•ç®¡ç†é¢æ¿åï¼Œç«‹å³åœ¨ã€Œä¸ªäººè®¾ç½®ã€ä¸­ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
2. **API å¯†é’¥ç®¡ç†**ï¼šä¸ºä¸åŒåº”ç”¨åˆ†é…ç‹¬ç«‹çš„ API å¯†é’¥ï¼Œå®šæœŸè½®æ¢å¹¶æ’¤é”€æ— ç”¨å¯†é’¥
3. **ç¯å¢ƒå˜é‡ä¿æŠ¤**ï¼šä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼Œé¿å…æ³„éœ²è´¦å·å‡­è¯
4. **ç«¯å£é™åˆ¶**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®é€šè¿‡é˜²ç«å¢™é™åˆ¶ 5000 ç«¯å£çš„è®¿é—®èŒƒå›´ï¼ˆä»…å…è®¸ä¿¡ä»»çš„ IPï¼‰
5. **HTTPS é…ç½®**ï¼šé€šè¿‡ Nginx ç­‰åå‘ä»£ç†é…ç½® HTTPSï¼ŒåŠ å¯†ä¼ è¾“æ•°æ®

## ğŸ› æ•…éšœæ’é™¤

### 1. å®¹å™¨å¯åŠ¨å¤±è´¥

- æ£€æŸ¥ `.env` æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆæ— è¯­æ³•é”™è¯¯ã€æ— å¤šä½™ç©ºæ ¼ï¼‰
- ç¡®è®¤ Gemini è´¦å·å‡­è¯æ˜¯å¦æœ‰æ•ˆï¼ˆå¯ç™»å½• Gemini Business åå°éªŒè¯ï¼‰
- æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š`docker logs gemini-link-system`

### 2. æ— æ³•è®¿é—®ç®¡ç†é¢æ¿

- æ£€æŸ¥å®¹å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š`docker ps | grep gemini-link-system`
- ç¡®è®¤ç«¯å£æ˜ å°„æ­£ç¡®ï¼ˆæ— ç«¯å£å†²çªï¼‰ï¼š`netstat -tuln | grep 5000`ï¼ˆLinux/macOSï¼‰
- æ£€æŸ¥æœ¬åœ°é˜²ç«å¢™æ˜¯å¦é˜»æ­¢äº† 5000 ç«¯å£

### 3. å›¾ç‰‡ç”Ÿæˆå¤±è´¥

- ç¡®è®¤ä½¿ç”¨çš„æ¨¡å‹æ˜¯ `gemini-3-pro-preview`
- æ£€æŸ¥ `generated_images` ç›®å½•æƒé™ï¼ˆæ˜¯å¦å¯å†™ï¼‰
- æŸ¥çœ‹æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯ï¼Œç¡®è®¤è´¦å·æ˜¯å¦æœ‰å›¾ç‰‡ç”Ÿæˆæƒé™

## ğŸ› ï¸ å¼€å‘è€…æ•™ç¨‹ï¼ˆæœ¬åœ°æ„å»ºä¸å¼€å‘ï¼‰

ä»¥ä¸‹æ­¥éª¤é€‚ç”¨äºéœ€è¦äºŒæ¬¡å¼€å‘æˆ–æœ¬åœ°è°ƒè¯•çš„å¼€å‘è€…ï¼š

### 1. å…‹éš†é¡¹ç›®ä»£ç 

```bash
git clone https://github.com/qxd-ljy/Gemini-Link-System.git
cd Gemini-Link-System  # æ³¨æ„ï¼šåŸå‘½ä»¤æœ‰ç¬”è¯¯ï¼ˆgGemini-Link-System â†’ Gemini-Link-Systemï¼‰
```

### 2. å®‰è£…ä¾èµ–

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆå¯é€‰ä½†æ¨èï¼‰
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Linux/macOSï¼šsource venv/bin/activate
# Windowsï¼ˆCMDï¼‰ï¼švenv\Scripts\activate.bat
# Windowsï¼ˆPowerShellï¼‰ï¼š.\venv\Scripts\Activate.ps1

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¤ºä¾‹æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å†™ Gemini è´¦å·ä¿¡æ¯
```

### 4. æœ¬åœ°è¿è¡ŒæœåŠ¡

```bash
# å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡è½½ï¼‰
uvicorn main:app --reload --host 0.0.0.0 --port 5000

# æˆ–ç›´æ¥è¿è¡Œ
python main.py
```

### 5. æœ¬åœ°æ„å»º Docker é•œåƒ

```bash
# æ„å»ºé•œåƒ
docker build -t gemini-link-system:local .

# è¿è¡Œæœ¬åœ°æ„å»ºçš„é•œåƒ
docker run -d \
  --name gemini-link-system-local \
  -p 5000:5000 \
  --env-file .env \
  -v $(pwd)/geminibusiness.db:/app/geminibusiness.db \
  -v $(pwd)/generated_images:/app/generated_images \
  gemini-link-system:local
```

### 6. é¡¹ç›®ç»“æ„è¯´æ˜

```
Gemini-Link-System/
â”œâ”€â”€ main.py                 # ä¸»åº”ç”¨å…¥å£ï¼ˆFastAPI åˆå§‹åŒ–ã€è·¯ç”±æ³¨å†Œï¼‰
â”œâ”€â”€ auth.py                 # è®¤è¯æ¨¡å—ï¼ˆAPI å¯†é’¥éªŒè¯ã€JWT å¤„ç†ï¼‰
â”œâ”€â”€ database.py             # æ•°æ®åº“æ¨¡å‹ï¼ˆSQLAlchemy é…ç½®ã€æ•°æ®æ¨¡å‹ï¼‰
â”œâ”€â”€ gemini_api.py           # Gemini Business API è°ƒç”¨é€»è¾‘
â”œâ”€â”€ requirements.txt        # Python ä¾èµ–æ¸…å•
â”œâ”€â”€ Dockerfile              # Docker é•œåƒæ„å»ºé…ç½®
â”œâ”€â”€ docker-compose.yml      # Docker Compose é…ç½®
â”œâ”€â”€ .env.example            # ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ static/                 # ç®¡ç†é¢æ¿é™æ€æ–‡ä»¶ï¼ˆHTML/CSS/JSï¼‰
â”‚   â”œâ”€â”€ index.html          # ç™»å½•é¡µ
â”‚   â”œâ”€â”€ dashboard.html      # ç®¡ç†é¢æ¿ä¸»é¡µï¼ˆAPI å¯†é’¥ç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ accounts.html       # è´¦å·ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ style.css           # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ app.js              # å‰ç«¯äº¤äº’é€»è¾‘
â”œâ”€â”€ geminibusiness.db       # SQLite æ•°æ®åº“ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â””â”€â”€ generated_images/       # å›¾ç‰‡ç”Ÿæˆç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼è´¡çŒ®æµç¨‹ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/xxx`
3. æäº¤ä¿®æ”¹ï¼š`git commit -m "feat: æ·»åŠ  xxx åŠŸèƒ½"`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/xxx`
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£ã€å¿«é€Ÿçš„ Web æ¡†æ¶
- [Gemini Business](https://business.gemini.google/) - Google çš„ Gemini Business API
- [Docker](https://www.docker.com/) - å®¹å™¨åŒ–éƒ¨ç½²å·¥å…·
- [SQLAlchemy](https://www.sqlalchemy.org/) - Python ORM æ¡†æ¶

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ [Issue](https://github.com/qxd-ljy/Gemini-Link-System/issues)ã€‚
